---
- name: Adding Docker APT GPG key
  apt_key:
    keyserver: hkp://ha.pool.sks-keyservers.net:80
    id: 58118E89F3A912897C070ADBF76221572C52609D

- name: Adding Docker APT repository
  apt_repository:
    repo: deb https://apt.dockerproject.org/repo ubuntu-xenial main
    state: present
    filename: 'docker'

- name: Adding Kubernetes APT GPG key
  apt_key:
    url: "https://packages.cloud.google.com/apt/doc/apt-key.gpg"
    state: present

- name: Adding Kubernetes APT repository
  apt_repository:
    repo: deb http://apt.kubernetes.io/ kubernetes-xenial main
    state: present
    filename: 'kubernetes'

- name: Adding Ceph APT GPG key
  when: ceph_cluster
  apt_key:
    url: "https://download.ceph.com/keys/release.asc"
    state: present

- name: Adding Ceph APT repository
  when: ceph_cluster
  apt_repository:
    repo: "deb https://download.ceph.com/debian-{{ ceph_version }}/ xenial main"
    state: present
    filename: 'ceph'
